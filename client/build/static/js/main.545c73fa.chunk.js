(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={QuizAlt:"QuizAlt_QuizAlt__1VCUh",borderThick:"QuizAlt_borderThick__11BGM"}},,,,function(e,t,n){e.exports={QuizQuestion:"QuizQuestion_QuizQuestion__209Au",QuestionText:"QuizQuestion_QuestionText__gULoD"}},,,,function(e,t,n){e.exports={Header:"Header_Header__1xrSh"}},function(e,t,n){e.exports={ThemeSelector:"ThemeSelector_ThemeSelector__1MZF_"}},function(e,t,n){e.exports={SelectorItem:"SelectorItem_SelectorItem__25t34"}},function(e,t,n){e.exports={Quiz:"Quiz_Quiz__3Brri",jumbotron:"Quiz_jumbotron__20eFL"}},function(e,t,n){e.exports={MusicQuiz:"MusicQuiz_MusicQuiz__1W54L"}},function(e,t,n){e.exports={Layout:"Layout_Layout__37MHr"}},function(e,t,n){e.exports={App:"App_App__16ZpL"}},function(e,t,n){e.exports=n(39)},,,,,,,,,,,,function(e,t,n){e.exports={QuizAlts:"QuizAlts_QuizAlts__GTI6f"}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),u=n.n(c),i=n(9),o=n(8),s=n(18),l=n(3),p=n(4),d=n(5),m=n(6),f=n(1),h=n.n(f),y=n(2),v=n(19),b=n.n(v),E=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"row ".concat(b.a.Header)},a.a.createElement("div",{className:"col"},"Header"),a.a.createElement("div",{className:"col"},"Logo"))}}]),n}(r.Component),O=function(e,t){return function(){var n=Object(y.a)(h.a.mark((function n(r){var a,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://localhost:5000/api/quiz/answer",{method:"POST",credentials:"include",body:JSON.stringify({question_number:e,alt_number:t}),headers:{"Content-Type":"application/json"}});case 2:return a=n.sent,n.next=5,a.json();case 5:c=n.sent,r({type:"FETCH_ANSWER",payload:{alt_number:t,correct_alt_number:c}});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=n(20),j=n.n(_),z=n(21),Q=n.n(z),w=function(e){return a.a.createElement("div",{className:"".concat(Q.a.SelectorItem)},a.a.createElement("input",{type:"radio",name:"quiz",id:e.quizId,onClick:function(){return e.click(e.quizId)}}),a.a.createElement("label",{htmlFor:e.quizId},a.a.createElement("div",{className:"card text-white bg-dark"},a.a.createElement("img",{src:e.quizImage,className:"card-img",alt:"Quiz img"})),a.a.createElement("h5",{className:"text-center text-white"},e.quizDescription)),a.a.createElement("input",{type:"hidden",name:e.quizId}))},g=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getPossibleQuizzes()}},{key:"render",value:function(){var e=this;return this.props.quizzes?a.a.createElement("div",{className:"row justify-content-md-center ".concat(j.a.ThemeSelector)},a.a.createElement("div",{className:"card-group"},this.props.quizzes.map((function(t){return a.a.createElement(w,{quizId:t.id,quizImage:t.image,quizDescription:t.description,key:t.id,click:function(t){return e.props.selectQuiz(t)}})})))):a.a.createElement("div",null,"asd")}}]),n}(r.Component),S=Object(o.b)((function(e){return{selectedQuiz:e.quiz.selectedQuiz,quizzes:e.quiz.possibleQuizzes}}),{selectQuiz:function(e){return function(t){t({type:"QUIZ_SELECTED",payload:e})}},getPossibleQuizzes:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/quiz/getQuizzes",{method:"GET",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t({type:"FETCH_POSSIBLE_QUIZZES",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(g),N=n(22),x=n.n(N),k=n(15),T=n.n(k),q=function(e){return a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col ".concat(T.a.QuizQuestion)},a.a.createElement("div",{className:"card text-white bg-dark"},a.a.createElement("img",{src:e.questionImg,className:"card-img",alt:"Quiz img"}))),a.a.createElement("div",{className:"w-100"}),a.a.createElement("div",{className:"col"},a.a.createElement("h5",{className:"text-center ".concat(T.a.QuestionText)},e.questionText)))},A=n(11),I=n.n(A),C=function(e){var t;return null!==e.correctAlternative&&(t=e.correctAlternative?"border-success":"border-danger"),a.a.createElement("div",{className:"col-3 ".concat(I.a.QuizAlt)},a.a.createElement("input",{disabled:null!==e.correctAlternative,type:"radio",name:"alt",id:e.altNumber,onClick:function(){return e.click(e.altNumber)}}),a.a.createElement("label",{htmlFor:e.altNumber},a.a.createElement("div",{className:"card bg-transparent ".concat(t," ").concat(I.a.borderThick)},a.a.createElement("div",{className:I.a.cardImgWrap},a.a.createElement("img",{src:e.altImg,className:"card-img",alt:"Quiz img"}))),a.a.createElement("h5",{className:"text-center text-white"},e.altTitle)),a.a.createElement("input",{type:"hidden",name:e.altNumber}))},L=(n(38),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return this.props.currentQuestion?a.a.createElement("div",{className:"row row-cols-2 justify-content-md-center"},this.props.currentQuestion.question_alternatives.map((function(t){var n=null;return null!==e.props.correctAnswer&&(n=t.alt_number===e.props.correctAnswer),a.a.createElement(C,{altTitle:t.alt_title,altImg:t.alt_img,click:function(t){return e.props.sendAnswer(e.props.currentQuestion.question_number,t)},altNumber:t.alt_number,correctAlternative:n,key:t.alt_img})}))):a.a.createElement("div",{className:"row justify-content-md-center"},a.a.createElement("p",null,"Loading"))}}]),n}(r.Component)),D=Object(o.b)((function(e){return{currentQuestion:e.quiz.currentQuestion,correctAnswer:e.quiz.correctAnswer,selectedAnswer:e.quiz.selectedAnswer}}),{sendAnswer:O})(L),R=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).player=null,e.waitForSpotify=Object(y.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){window.Spotify?e(window.Spotify):window.onSpotifyWebPlaybackSDKReady=function(){e(window.Spotify)}})));case 1:case"end":return e.stop()}}),e)}))),e.createSpotifyPlayer=Object(y.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.waitForSpotify();case 2:n=t.sent,r=n.Player,e.player=new r({name:"Web Playback SDK Quick Start Player",getOAuthToken:function(){var t=Object(y.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getToken();case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),e.player.addListener("initialization_error",(function(e){var t=e.message;console.error(t)})),e.player.addListener("authentication_error",(function(e){var t=e.message;console.error(t)})),e.player.addListener("account_error",(function(e){var t=e.message;console.error(t)})),e.player.addListener("playback_error",(function(e){var t=e.message;console.error(t)})),e.player.addListener("player_state_changed",(function(e){console.log(e)})),e.player.addListener("ready",(function(t){var n=t.device_id;console.log("Ready with Device ID",n),e.props.setDevice(n)})),e.player.addListener("not_ready",(function(e){var t=e.device_id;console.log("Device ID has gone offline",t)})),e.player.connect();case 13:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.createSpotifyPlayer()}},{key:"render",value:function(){return this.props.song?(console.log("H\xc4R"+this.props.song),a.a.createElement("div",{songUrl:this.props.playSong(this.props.song,this.props.deviceId)})):null}}]),n}(r.Component),P=Object(o.b)((function(e){return{playerReady:e.player.playerReady,deviceId:e.player.deviceId}}),{setDevice:function(e){return function(){var t=Object(y.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"PLAYER_READY",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getToken:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/auth/getToken",{method:"GET",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},playSong:function(e,t){return function(){var n=Object(y.a)(h.a.mark((function n(r){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://localhost:5000/api/player/play",{method:"POST",credentials:"include",body:JSON.stringify({spotify_uri:e,device_id:t}),headers:{"Content-Type":"application/json"}});case 2:return a=n.sent,n.next=5,a.json();case 5:return a=n.sent,n.t0=console,n.next=9,a;case 9:return n.t1=n.sent,n.t0.log.call(n.t0,n.t1),n.abrupt("return",a);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(R),U=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getQuestions(this.props.selectedQuiz);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeQuestion",value:function(){7===this.props.currentQuestionNumber?this.props.showScore():this.props.nextQuestion()}},{key:"render",value:function(){var e=this,t=this.props.currentQuestion;return t?a.a.createElement("div",{className:"jumbotron ".concat(x.a.Quiz)},this.props.shouldShowScore?a.a.createElement("p",null,"SCORE"):a.a.createElement("div",null,a.a.createElement(q,{questionImg:t.question_img,questionText:t.question_title}),a.a.createElement("p",null,this.props.currentQuestionNumber),a.a.createElement(D,null),a.a.createElement(P,{song:t.question_track_url}),this.props.selectedAnswer?a.a.createElement("button",{onClick:function(){return e.changeQuestion()}},"Next Question"):null)):a.a.createElement("div",{className:"ui two column centered grid"},a.a.createElement("p",null,"Loading"))}}]),n}(r.Component),H=Object(o.b)((function(e){return{currentQuestionNumber:e.quiz.currentQuestionNumber,currentQuestion:e.quiz.currentQuestion,selectedQuiz:e.quiz.selectedQuiz,playerReady:e.player.playerReady,selectedAnswer:e.quiz.selectedAnswer,shouldShowScore:e.quiz.shouldShowScore}}),{getQuestions:function(e){return function(){var t=Object(y.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/api/quiz/createQuiz",{method:"POST",credentials:"include",body:JSON.stringify({playlist_id:e}),headers:{"Content-Type":"application/json"}});case 2:return r=t.sent,t.next=5,r.json();case 5:return r=t.sent,n({type:"FETCH_QUESITONS",payload:r}),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},nextQuestion:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"NEXT_QUESTION"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sendAnswer:O,showScore:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SHOW_SCORE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(U),F=n(23),G=n.n(F),M=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"col ".concat(G.a.MusicQuiz)},this.props.quizStarted?a.a.createElement(H,null):a.a.createElement("div",null,a.a.createElement(S,null),this.props.selectedQuiz?a.a.createElement("div",{className:"row justify-content-md-center"},a.a.createElement("div",{className:"column"},a.a.createElement("button",{onClick:function(){return e.props.startQuiz()}},"Start"))):null))}}]),n}(r.Component),Z=Object(o.b)((function(e){return{selectedQuiz:e.quiz.selectedQuiz,quizStarted:e.quiz.quizStarted}}),{startQuiz:function(){return function(e){e({type:"QUIZ_STARTED"})}}})(M),W=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col-4"},a.a.createElement("p",{className:"text-center"},a.a.createElement("a",{href:"http://localhost:5000/api/auth/login"},"Login with Spotify")))),a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col-4"},a.a.createElement("p",{className:"text-center"},"TODO Insert app Description... :)"))))}}]),n}(r.Component),B=n(24),J=n.n(B),Y=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.isLoggedIn()}},{key:"render",value:function(){return a.a.createElement("div",{className:J.a.Layout},a.a.createElement(E,null),a.a.createElement("div",{className:"container"},a.a.createElement("main",null,this.props.isAuthenticated?a.a.createElement(Z,null):a.a.createElement(W,null))))}}]),n}(r.Component),K=Object(o.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{isLoggedIn:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/auth/isLoggedIn",{method:"GET",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t({type:"IS_LOGGED_IN",payload:n.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(y.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/auth/logout",{method:"POST",credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,t({type:"LOGOUT_SUCCESS",payload:n.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Y),X=n(25),V=n.n(X),$=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:V.a.App},a.a.createElement(K,null))}}]),n}(r.Component),ee=n(7),te={isAuthenticated:null,user:null},ne={songInfo:null},re={playerReady:null,deviceId:null},ae={quizIsSelected:null,selectedQuiz:null,possibleQuizzes:null,quizStarted:null,questions:null,currentQuestionNumber:null,currentQuestion:null,selectedAnswer:null,correctAnswer:null,shouldShowScore:null},ce=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"IS_LOGGED_IN":return Object(ee.a)({},e,{isAuthenticated:r});case"LOGOUT_SUCCESS":return Object(ee.a)({},e,{isAuthenticated:!1});default:return e}},song:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"FETCH_SONG":return Object(ee.a)({},e,{songInfo:r});default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"PLAYER_READY":return Object(ee.a)({},e,{playerReady:!0,deviceId:r});default:return e}},quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"QUIZ_SELECTED":return Object(ee.a)({},e,{quizIsSelected:!0,selectedQuiz:r});case"FETCH_POSSIBLE_QUIZZES":return Object(ee.a)({},e,{possibleQuizzes:r});case"QUIZ_STARTED":return Object(ee.a)({},e,{quizStarted:!0});case"SHOW_SCORE":return Object(ee.a)({},e,{shouldShowScore:!0});case"FETCH_QUESITONS":var a=Object(ee.a)({},r[0]);return Object(ee.a)({},e,{questions:r,currentQuestionNumber:0,currentQuestion:a,currentTrack:a.question_track_url});case"NEXT_QUESTION":var c=Object(ee.a)({},e.questions[e.currentQuestionNumber+1]);return Object(ee.a)({},e,{currentQuestionNumber:e.currentQuestionNumber+1,currentQuestion:c,currentTrack:c.question_track_url,selectedAnswer:null,correctAnswer:null});case"FETCH_ANSWER":return Object(ee.a)({},e,{selectedAnswer:r.alt_number,correctAnswer:r.correct_alt_number});default:return e}}}),ue=Object(i.d)(ce,Object(i.a)(s.a));u.a.render(a.a.createElement(o.a,{store:ue},a.a.createElement($,null)),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.545c73fa.chunk.js.map